<!DOCTYPE html><html><head><meta charset="utf-8"/>
<title>boxcraft simplest for Keyboard</title>
<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
<script type="module">
AFRAME.registerComponent('cursor-listener', {
	init: function() {
		this.el.addEventListener('click', function(evt) {
			const p = this.object3D.getWorldPosition();
			const size = 0.1;
			const p2 = {
				x: Math.floor(p.x / size) * size + size / 2,
				y: Math.floor(p.y / size) * size + size / 2,
				z: Math.floor(p.z / size) * size + size / 2
			};
			const box = document.createElement('a-box');
			box.setAttribute('position', p2);
			box.setAttribute('width', size);
			box.setAttribute('height', size);
			box.setAttribute('depth', size);
			box.setAttribute('color', '#FFF');
			scene.appendChild(box);
		})
	}
});
</script>
</head><body>
<a-scene id='scene'>
	 <a-entity camera look-controls>
                <a-entity cursor="rayOrigin: mouse"
                position="0 0 -1"
                geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                material="color: black; shader: flat"></a-entity>
        </a-entity>
        <a-entity id="box" cursor-listener geometry="primitive: box" position="0 1 -5" material="color: blue"></a-entity>
	<!-- <a-entity oculus-touch-controls='hand: right' input-listen></a-entity> 
	　参考サイト　https://kabos.hatenablog.jp/entry/2020/11/06/160819
	-->
</a-scene>
</body></html>
